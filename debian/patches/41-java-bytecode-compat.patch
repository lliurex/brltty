Description: Debian and Ubuntu contain multiple JRE implementations
 .
 This patch ensures that the Java bytecode built by this package is
 compatible with all versions of Java from 1.8.
Author: James Page <james.page@ubuntu.com>
Forwarded: no
Bug-Ubuntu: https://bugs.launchpad.net/ubuntu/+source/brltty/+bug/1049757
Bug-Debian: http://bugs.debian.org/cgi-bin/bugreport.cgi?bug=688127
Bug-Debian: http://bugs.debian.org/cgi-bin/bugreport.cgi?bug=893102

Index: brltty-6.3+dfsg/Bindings/Java/bindings.m4
===================================================================
--- brltty-6.3+dfsg.orig/Bindings/Java/bindings.m4
+++ brltty-6.3+dfsg/Bindings/Java/bindings.m4
@@ -37,9 +37,10 @@ then
    JAVA_OK=true
 
    JAVA_ENCODING="UTF-8"
+   JAVA_TARGET="-source 1.8 -target 1.8"
    case "${JAVAC_NAME}"
    in
-      javac) JAVAC_OPTIONS="-encoding ${JAVA_ENCODING}";;
+      javac) JAVAC_OPTIONS="-encoding ${JAVA_ENCODING} ${JAVA_TARGET}";;
       gcj)   JAVAC_OPTIONS="-C --encoding=${JAVA_ENCODING}";;
       *)     JAVAC_OPTIONS="";;
    esac
