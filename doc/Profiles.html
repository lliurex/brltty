<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
<meta name="generator" content="Docutils 0.16: http://docutils.sourceforge.net/" />
<title>Profiles</title>
<style type="text/css">

/*
:Author: David Goodger (goodger@python.org)
:Id: $Id: html4css1.css 7952 2016-07-26 18:15:59Z milde $
:Copyright: This stylesheet has been placed in the public domain.

Default cascading style sheet for the HTML output of Docutils.

See http://docutils.sf.net/docs/howto/html-stylesheets.html for how to
customize this style sheet.
*/

/* used to remove borders from tables and images */
.borderless, table.borderless td, table.borderless th {
  border: 0 }

table.borderless td, table.borderless th {
  /* Override padding for "table.docutils td" with "! important".
     The right padding separates the table cells. */
  padding: 0 0.5em 0 0 ! important }

.first {
  /* Override more specific margin styles with "! important". */
  margin-top: 0 ! important }

.last, .with-subtitle {
  margin-bottom: 0 ! important }

.hidden {
  display: none }

.subscript {
  vertical-align: sub;
  font-size: smaller }

.superscript {
  vertical-align: super;
  font-size: smaller }

a.toc-backref {
  text-decoration: none ;
  color: black }

blockquote.epigraph {
  margin: 2em 5em ; }

dl.docutils dd {
  margin-bottom: 0.5em }

object[type="image/svg+xml"], object[type="application/x-shockwave-flash"] {
  overflow: hidden;
}

/* Uncomment (and remove this text!) to get bold-faced definition list terms
dl.docutils dt {
  font-weight: bold }
*/

div.abstract {
  margin: 2em 5em }

div.abstract p.topic-title {
  font-weight: bold ;
  text-align: center }

div.admonition, div.attention, div.caution, div.danger, div.error,
div.hint, div.important, div.note, div.tip, div.warning {
  margin: 2em ;
  border: medium outset ;
  padding: 1em }

div.admonition p.admonition-title, div.hint p.admonition-title,
div.important p.admonition-title, div.note p.admonition-title,
div.tip p.admonition-title {
  font-weight: bold ;
  font-family: sans-serif }

div.attention p.admonition-title, div.caution p.admonition-title,
div.danger p.admonition-title, div.error p.admonition-title,
div.warning p.admonition-title, .code .error {
  color: red ;
  font-weight: bold ;
  font-family: sans-serif }

/* Uncomment (and remove this text!) to get reduced vertical space in
   compound paragraphs.
div.compound .compound-first, div.compound .compound-middle {
  margin-bottom: 0.5em }

div.compound .compound-last, div.compound .compound-middle {
  margin-top: 0.5em }
*/

div.dedication {
  margin: 2em 5em ;
  text-align: center ;
  font-style: italic }

div.dedication p.topic-title {
  font-weight: bold ;
  font-style: normal }

div.figure {
  margin-left: 2em ;
  margin-right: 2em }

div.footer, div.header {
  clear: both;
  font-size: smaller }

div.line-block {
  display: block ;
  margin-top: 1em ;
  margin-bottom: 1em }

div.line-block div.line-block {
  margin-top: 0 ;
  margin-bottom: 0 ;
  margin-left: 1.5em }

div.sidebar {
  margin: 0 0 0.5em 1em ;
  border: medium outset ;
  padding: 1em ;
  background-color: #ffffee ;
  width: 40% ;
  float: right ;
  clear: right }

div.sidebar p.rubric {
  font-family: sans-serif ;
  font-size: medium }

div.system-messages {
  margin: 5em }

div.system-messages h1 {
  color: red }

div.system-message {
  border: medium outset ;
  padding: 1em }

div.system-message p.system-message-title {
  color: red ;
  font-weight: bold }

div.topic {
  margin: 2em }

h1.section-subtitle, h2.section-subtitle, h3.section-subtitle,
h4.section-subtitle, h5.section-subtitle, h6.section-subtitle {
  margin-top: 0.4em }

h1.title {
  text-align: center }

h2.subtitle {
  text-align: center }

hr.docutils {
  width: 75% }

img.align-left, .figure.align-left, object.align-left, table.align-left {
  clear: left ;
  float: left ;
  margin-right: 1em }

img.align-right, .figure.align-right, object.align-right, table.align-right {
  clear: right ;
  float: right ;
  margin-left: 1em }

img.align-center, .figure.align-center, object.align-center {
  display: block;
  margin-left: auto;
  margin-right: auto;
}

table.align-center {
  margin-left: auto;
  margin-right: auto;
}

.align-left {
  text-align: left }

.align-center {
  clear: both ;
  text-align: center }

.align-right {
  text-align: right }

/* reset inner alignment in figures */
div.align-right {
  text-align: inherit }

/* div.align-center * { */
/*   text-align: left } */

.align-top    {
  vertical-align: top }

.align-middle {
  vertical-align: middle }

.align-bottom {
  vertical-align: bottom }

ol.simple, ul.simple {
  margin-bottom: 1em }

ol.arabic {
  list-style: decimal }

ol.loweralpha {
  list-style: lower-alpha }

ol.upperalpha {
  list-style: upper-alpha }

ol.lowerroman {
  list-style: lower-roman }

ol.upperroman {
  list-style: upper-roman }

p.attribution {
  text-align: right ;
  margin-left: 50% }

p.caption {
  font-style: italic }

p.credits {
  font-style: italic ;
  font-size: smaller }

p.label {
  white-space: nowrap }

p.rubric {
  font-weight: bold ;
  font-size: larger ;
  color: maroon ;
  text-align: center }

p.sidebar-title {
  font-family: sans-serif ;
  font-weight: bold ;
  font-size: larger }

p.sidebar-subtitle {
  font-family: sans-serif ;
  font-weight: bold }

p.topic-title {
  font-weight: bold }

pre.address {
  margin-bottom: 0 ;
  margin-top: 0 ;
  font: inherit }

pre.literal-block, pre.doctest-block, pre.math, pre.code {
  margin-left: 2em ;
  margin-right: 2em }

pre.code .ln { color: grey; } /* line numbers */
pre.code, code { background-color: #eeeeee }
pre.code .comment, code .comment { color: #5C6576 }
pre.code .keyword, code .keyword { color: #3B0D06; font-weight: bold }
pre.code .literal.string, code .literal.string { color: #0C5404 }
pre.code .name.builtin, code .name.builtin { color: #352B84 }
pre.code .deleted, code .deleted { background-color: #DEB0A1}
pre.code .inserted, code .inserted { background-color: #A3D289}

span.classifier {
  font-family: sans-serif ;
  font-style: oblique }

span.classifier-delimiter {
  font-family: sans-serif ;
  font-weight: bold }

span.interpreted {
  font-family: sans-serif }

span.option {
  white-space: nowrap }

span.pre {
  white-space: pre }

span.problematic {
  color: red }

span.section-subtitle {
  /* font-size relative to parent (h1..h6 element) */
  font-size: 80% }

table.citation {
  border-left: solid 1px gray;
  margin-left: 1px }

table.docinfo {
  margin: 2em 4em }

table.docutils {
  margin-top: 0.5em ;
  margin-bottom: 0.5em }

table.footnote {
  border-left: solid 1px black;
  margin-left: 1px }

table.docutils td, table.docutils th,
table.docinfo td, table.docinfo th {
  padding-left: 0.5em ;
  padding-right: 0.5em ;
  vertical-align: top }

table.docutils th.field-name, table.docinfo th.docinfo-name {
  font-weight: bold ;
  text-align: left ;
  white-space: nowrap ;
  padding-left: 0 }

/* "booktabs" style (no vertical lines) */
table.docutils.booktabs {
  border: 0px;
  border-top: 2px solid;
  border-bottom: 2px solid;
  border-collapse: collapse;
}
table.docutils.booktabs * {
  border: 0px;
}
table.docutils.booktabs th {
  border-bottom: thin solid;
  text-align: left;
}

h1 tt.docutils, h2 tt.docutils, h3 tt.docutils,
h4 tt.docutils, h5 tt.docutils, h6 tt.docutils {
  font-size: 100% }

ul.auto-toc {
  list-style-type: none }

</style>
</head>
<body>
<div class="document" id="profiles">
<h1 class="title">Profiles</h1>

<div class="contents topic" id="contents">
<p class="topic-title">Contents</p>
<ul class="simple">
<li><a class="reference internal" href="#description" id="id2">Description</a><ul>
<li><a class="reference internal" href="#supported-profile-types" id="id3">Supported Profile Types</a><ul>
<li><a class="reference internal" href="#language-profiles" id="id4">Language Profiles</a></li>
</ul>
</li>
<li><a class="reference internal" href="#profile-selection" id="id5">Profile Selection</a></li>
</ul>
</li>
<li><a class="reference internal" href="#standard-directives" id="id6">Standard Directives</a><ul>
<li><a class="reference internal" href="#the-include-directive" id="id7">The Include Directive</a></li>
<li><a class="reference internal" href="#the-assign-directive" id="id8">The Assign Directive</a></li>
<li><a class="reference internal" href="#the-assigndefault-directive" id="id9">The AssignDefault Directive</a></li>
<li><a class="reference internal" href="#the-ifvar-directive" id="id10">The IfVar Directive</a></li>
<li><a class="reference internal" href="#the-ifnotvar-directive" id="id11">The IfNotVar Directive</a></li>
<li><a class="reference internal" href="#the-beginvariables-directive" id="id12">The BeginVariables Directive</a></li>
<li><a class="reference internal" href="#the-endvariables-directive" id="id13">The EndVariables Directive</a></li>
<li><a class="reference internal" href="#the-listvariables-directive" id="id14">The ListVariables Directive</a></li>
<li><a class="reference internal" href="#the-endif-directive" id="id15">The EndIf Directive</a></li>
<li><a class="reference internal" href="#the-else-directive" id="id16">The Else Directive</a></li>
</ul>
</li>
</ul>
</div>
<div class="section" id="description">
<h2><a class="toc-backref" href="#id2">Description</a></h2>
<p>A profile is an activatable group of settings which explicitly override the
ones that were established via command line options, the configuration file
(<tt class="docutils literal">brltty.conf</tt>), the preferences file (<tt class="docutils literal">brltty.prefs</tt>), etc when BRLTTY
was invoked. Profiles must be placed in the <tt class="docutils literal">/etc/brltty/Profiles/</tt>
directory (see <a class="reference external" href="Customize.html">Local Customization</a> for more details).</p>
<p>A profile must be encoded in UTF-8. Blank lines are ignored. If the first
non-whitespace character of a line is <tt class="docutils literal">#</tt> then that line is a comment and is
ignored. The <a class="reference internal" href="#standard-directives">Standard Directives</a> are supported. All other lines specify the
settings that are to be overridden, and must be in the form:</p>
<pre class="literal-block">
<em>name</em> <em>value</em>
</pre>
<p>Each type of profile has the following properties:</p>
<ul class="simple">
<li>A specific group of settings that it can override.</li>
<li>Its own file extension.</li>
<li>Its own selector within BRLTTY's Profiles submenu.</li>
<li>Its own SET_*_PROFILE command for direct selection (see
<a class="reference internal" href="#profile-selection">Profile Selection</a>).</li>
</ul>
<div class="section" id="supported-profile-types">
<h3><a class="toc-backref" href="#id3">Supported Profile Types</a></h3>
<div class="section" id="language-profiles">
<h4><a class="toc-backref" href="#id4">Language Profiles</a></h4>
<p>A language profile must have the <tt class="docutils literal">.lpf</tt> file extension. It can override the
following settings:</p>
<ul class="simple">
<li>locale</li>
<li>speech-driver</li>
<li>speech-parameters</li>
<li>text-table</li>
<li>contraction-table</li>
</ul>
<p>For example, a profile for the German language might look like this:</p>
<pre class="literal-block">
locale de_DE.UTF-8
speech-driver es
speech-parameters voice=de,maxrate=300
text-table de
contraction-table de-g2
</pre>
<p>All of the speech driver parameters must be specified on a single line, and be
separated from one another by a comma (<tt class="docutils literal">,</tt>).</p>
</div>
</div>
<div class="section" id="profile-selection">
<h3><a class="toc-backref" href="#id5">Profile Selection</a></h3>
<p>Each type of profile has a selector within BRLTTY's Profiles submenu. The
selector for a given profile type allows for setting that type of profile
either to <tt class="docutils literal">off</tt> (which means &quot;no profile&quot;) or to any of the files in the
<tt class="docutils literal">/etc/brltty/Profiles/</tt> directory which have the file extension for that type
of profile. The file names are sorted alphabetically.</p>
<p>If you'd like to select a profile directly (rather than use the Profiles
submenu) then you can define key bindings for the appropriate <tt class="docutils literal">SET_*_PROFILE</tt>
command. For example, if you'd like to directly select your language profile
then you'd define bindings for the <tt class="docutils literal">SET_LANGUAGE_PROFILE</tt> command. You may
add your bindings either to the keyboard table that you're using or to the key
table for your braille device. Except for a few examples below, exactly how to
do this is beyond the scope of this document (see <a class="reference external" href="KeyTables.html">Key Tables</a> for
details).</p>
<p>One approach is to define a single binding which involves a routing key. For
example:</p>
<pre class="literal-block">
bind Key1+Key2+RoutingKey SET_LANGUAGE_PROFILE
</pre>
<p>Using this paradigm, the leftmost routing key means to use no language profile,
and the next few routing keys select each of your language profiles in the same
order as they appear within the Language selector of the Profiles submenu.</p>
<p>Another approach is to define a specific binding for each language profile. For
example:</p>
<pre class="literal-block">
bind Key1+Key2 SET_LANGUAGE_PROFILE+0
bind Key1+Key3 SET_LANGUAGE_PROFILE+1
bind Key2+Key3 SET_LANGUAGE_PROFILE+2
bind Key1+Key2+Key3 SET_LANGUAGE_PROFILE+3
</pre>
<p>Using this paradigm, the binding for <tt class="docutils literal">+0</tt> (Key1+Key2) means to use no
language profile, and the bindings for <tt class="docutils literal">+1</tt> (Key1+Key3), <tt class="docutils literal">+2</tt> (Key2+Key3),
etc select each of your language profiles in the same order as they appear
within the Language selector of the Profiles submenu.</p>
<p>A practical approach, which would make it easy to remember the bindings, might
be to use a keyboard table, and to use a simple key combination plus a
meaningful letter for each language name. Let's say that your primary language
is English, and that you also use French and German. In this case, your default
settings (no profile) would be for English, and you'd create french.lpf for
French and german.lpf for German. You could then define a set of bindings which
use <tt class="docutils literal">e</tt> for English, <tt class="docutils literal">f</tt> for French, and <tt class="docutils literal">g</tt> for German. For example:</p>
<pre class="literal-block">
bind ShiftLeft+ShiftRight+!e SET_LANGUAGE_PROFILE+0
bind ShiftLeft+ShiftRight+!f SET_LANGUAGE_PROFILE+1
bind ShiftLeft+ShiftRight+!g SET_LANGUAGE_PROFILE+2
</pre>
<p>The <tt class="docutils literal">+1</tt> binding would activate <tt class="docutils literal">french.lpf</tt> and the <tt class="docutils literal">+2</tt> binding would
activate <tt class="docutils literal">german.lpf</tt> because that's how the profile name list would be
sorted. If, however, you choose to use the native language names then you'd
have <tt class="docutils literal">deutsch.lpf</tt> for German and <tt class="docutils literal">français.lpf</tt> for French. In this case,
you'd need a different set of bindings because <tt class="docutils literal">deutsch.lpf</tt> (for German)
sorts before <tt class="docutils literal">français.lpf</tt> (for French):</p>
<pre class="literal-block">
bind ShiftLeft+ShiftRight+!e SET_LANGUAGE_PROFILE+0
bind ShiftLeft+ShiftRight+!d SET_LANGUAGE_PROFILE+1
bind ShiftLeft+ShiftRight+!f SET_LANGUAGE_PROFILE+2
</pre>
<p>When adding the bindings to a key table, they should most likely be defined
within the default context. The best way to ensure this is to add them at the
very end of the appropriate key table or subtable, and to add the <tt class="docutils literal">context
default</tt> statement just before them. For example:</p>
<pre class="literal-block">
context default
bind Key1+RoutingKey SET_LANGUAGE_PROFILE
</pre>
<p>If you'd like your additional binding definitions to survive a BRLTTY reinstall
then you should use a customized key table or subtable (see <a class="reference external" href="Customize.html">Local Customization</a>)
that includes the provided one, and then defines your additiional bindings.
Let's say that you'd like to add your bindings to the <tt class="docutils literal">laptop</tt> keyboard table
(<tt class="docutils literal">laptop.ktb</tt>). Create a file with the same name - <tt class="docutils literal">laptop.ktb</tt> - in the
<tt class="docutils literal">/etc/xdg/brltty/</tt> directory, and, with an editor, make it look like this:</p>
<pre class="literal-block">
include laptop.ktb
context default
bind Key1+Key2+RoutingKey SET_LANGUAGE_PROFILE
</pre>
</div>
</div>
<div class="section" id="standard-directives">
<h2><a class="toc-backref" href="#id6">Standard Directives</a></h2>
<div class="section" id="the-include-directive">
<h3><a class="toc-backref" href="#id7">The Include Directive</a></h3>
<pre class="literal-block">
include <em>file</em> # <em>comment</em>
</pre>
<p>Use this directive to include the content of another file. It is recursive,
which means that an included file can itself include yet another file.
Care must be taken to ensure that an &quot;include loop&quot; is not created.</p>
<dl class="docutils">
<dt><em>file</em></dt>
<dd>The file to be included. It may be either a relative or an absolute path. If
relative, it is anchored at the directory containing the including file.</dd>
</dl>
</div>
<div class="section" id="the-assign-directive">
<h3><a class="toc-backref" href="#id8">The Assign Directive</a></h3>
<pre class="literal-block">
assign <em>variable</em> <em>value</em>
</pre>
<p>Use this directive to create or update a variable associated with
the current nesting level (see <a class="reference internal" href="#the-beginvariables-directive">The BeginVariables Directive</a>)
of the current include level (see <a class="reference internal" href="#the-include-directive">The Include Directive</a>).
The variable is visible to the current and to lower include levels,
but not to higher include levels.</p>
<dl class="docutils">
<dt><em>variable</em></dt>
<dd>The name of the variable. If the variable doesn't already exist at the
current include level then it is created.</dd>
<dt><em>value</em></dt>
<dd>The value that is to be assigned to the variable. If it's not supplied then
a zero-length (null) value is assigned.</dd>
</dl>
<p>Examples:</p>
<pre class="literal-block">
assign nullValue
assign shortValue word
assign longValue a\svalue\swith\sspaces
assign IndirectValue \{variableName}
</pre>
</div>
<div class="section" id="the-assigndefault-directive">
<h3><a class="toc-backref" href="#id9">The AssignDefault Directive</a></h3>
<pre class="literal-block">
assignDefault <em>variable</em> <em>value</em>
</pre>
<p>Use this directive to assign a default value to a variable associated with
the current nesting level (see <a class="reference internal" href="#the-beginvariables-directive">The BeginVariables Directive</a>)
of the current include level (see <a class="reference internal" href="#the-include-directive">The Include Directive</a>).
It's functionally equivalent to:</p>
<pre class="literal-block">
ifNotVar <em>variable</em> assign <em>variable</em> <em>value</em>
</pre>
<p>See <a class="reference internal" href="#the-assign-directive">The Assign Directive</a> and <a class="reference internal" href="#the-ifnotvar-directive">The IfNotVar Directive</a> for more details.</p>
<dl class="docutils">
<dt><em>variable</em></dt>
<dd>The name of the variable. If the variable doesn't already exist at the
current include level then it is created. If it does already exist then it
is <strong>not</strong> modified.</dd>
<dt><em>value</em></dt>
<dd>The value that is to be assigned to the variable if it doesn't already
exist. If it's not supplied then a zero-length (null) value is assigned.</dd>
</dl>
<p>Examples:</p>
<pre class="literal-block">
assignDefault format plain\stext
</pre>
</div>
<div class="section" id="the-ifvar-directive">
<h3><a class="toc-backref" href="#id10">The IfVar Directive</a></h3>
<pre class="literal-block">
ifVar <em>variable</em> <em>directive</em>
</pre>
<p>Use this directive to only process one or more directives if a variable exists.</p>
<dl class="docutils">
<dt><em>variable</em></dt>
<dd>The name of the variable whose existence is to be tested.</dd>
<dt><em>directive</em></dt>
<dd>The directive that is to be conditionally processed.
It may contain spaces.
This operand is optional.
If it isn't supplied then this directive applies to all subsequent lines
until <a class="reference internal" href="#the-endif-directive">The EndIf Directive</a> or <a class="reference internal" href="#the-else-directive">The Else Directive</a>
that is at the same conditional nesting level.</dd>
</dl>
<p>Examples:</p>
<pre class="literal-block">
ifVar var1 ifVar var2 assign concatenation \{var1}\{var2}
</pre>
</div>
<div class="section" id="the-ifnotvar-directive">
<h3><a class="toc-backref" href="#id11">The IfNotVar Directive</a></h3>
<pre class="literal-block">
ifNotVar <em>variable</em> <em>directive</em>
</pre>
<p>Use this directive to only process one or more directives if a variable doesn't
exist.</p>
<dl class="docutils">
<dt><em>variable</em></dt>
<dd>The name of the variable whose existence is to be tested.</dd>
<dt><em>directive</em></dt>
<dd>The directive that is to be conditionally processed.
It may contain spaces.
This operand is optional.
If it isn't supplied then this directive applies to all subsequent lines
until <a class="reference internal" href="#the-endif-directive">The EndIf Directive</a> or <a class="reference internal" href="#the-else-directive">The Else Directive</a>
that is at the same conditional nesting level.</dd>
</dl>
<p>Examples:</p>
<pre class="literal-block">
ifNotVar var1 assign var1 default\svalue
</pre>
</div>
<div class="section" id="the-beginvariables-directive">
<h3><a class="toc-backref" href="#id12">The BeginVariables Directive</a></h3>
<pre class="literal-block">
beginVariables
</pre>
<p>Use this directive to open a new variable nesting level.
<a class="reference internal" href="#the-assign-directive">The Assign Directive</a>) will define variables at this new nesting level,
and will hide variables with the same names in any previous nesting level.
These variables will remain defined until <a class="reference internal" href="#the-endvariables-directive">The EndVariables Directive</a>
that is at the same variable nesting level.</p>
<p>Examples:</p>
<pre class="literal-block">
assign x 1
# \{x} evaluates to 1
beginVariables
# \{x} still evaluates to 1
assign x 2
# \{x} now evaluates to 2
endVariables
# \{x} evaluates to 1 again
</pre>
</div>
<div class="section" id="the-endvariables-directive">
<h3><a class="toc-backref" href="#id13">The EndVariables Directive</a></h3>
<pre class="literal-block">
endVariables
</pre>
<p>Use this directive to close the current variable nesting level.
See <a class="reference internal" href="#the-beginvariables-directive">The BeginVariables Directive</a> for details.</p>
</div>
<div class="section" id="the-listvariables-directive">
<h3><a class="toc-backref" href="#id14">The ListVariables Directive</a></h3>
<pre class="literal-block">
listVariables
</pre>
<p>Use this directive to list all of the currently defiined variables.
It can be helpful when debugging.</p>
</div>
<div class="section" id="the-endif-directive">
<h3><a class="toc-backref" href="#id15">The EndIf Directive</a></h3>
<pre class="literal-block">
endIf
</pre>
<p>Use this directive to terminate the current conditional nesting level.</p>
<p>Examples:</p>
<pre class="literal-block">
ifVar x
   These lines will be processed if a variable named x exists.
endIf
</pre>
</div>
<div class="section" id="the-else-directive">
<h3><a class="toc-backref" href="#id16">The Else Directive</a></h3>
<pre class="literal-block">
else
</pre>
<p>Use this directive to negate the test associated with the current conditional
nesting level.</p>
<p>Examples:</p>
<pre class="literal-block">
assign x some\svalue
ifVar x
   These lines will be processed.
else
   These lines won't be processed.
endIf
</pre>
</div>
</div>
</div>
</body>
</html>
